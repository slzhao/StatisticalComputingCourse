---
title: "Simple Tests"
output:
  html_document:
    theme: cerulean
    toc: yes
    toc_depth: 3
    number_sections: false
    toc_float: 
       collapsed: true
    #code_folding: hide
---

```{=html}
<style>
h2 {
  background-color: #D4DAEC;
}
</style>
```




## Exercise

-   one sample influence on means: show mean value and test if it is different than a population mean value
-   one sample influence on propotions: show propotion and test if it is different than a population propotion
-   two-sample influence on means (independant): show mean value of two groups and test if they are different
-   two-sample influence on propotions (independant): show propotion of two groups and test if they are different



```{r,message=FALSE}

#Get Titanic data
library(Hmisc)
getHdata(titanic3)
head(titanic3)

dataForAnalysis=titanic3

```


## one sample influence on means: show mean value and test if it is different than a population mean value

### What's the mean age in titanic data? Is it different than 30, which is the median Age of US at 1950

Mean age and SD

```{r}

mean(dataForAnalysis$age,na.rm=TRUE)
sd(dataForAnalysis$age,na.rm=TRUE)

```

Distribution

```{r}

hist(dataForAnalysis$age)

```

```{r}
#one sample t test
t.test(dataForAnalysis$age,mu=30)

```


## one sample influence on propotions: show propotion and test if it is different than a population propotion

### What's the propotion of surviviors in titanic data?

Mean age and SD

```{r}

table(dataForAnalysis$survived)

table(dataForAnalysis$survived)/sum(table(dataForAnalysis$survived))

```

Distribution

```{r}

pie(table(dataForAnalysis$survived))

```


```{r}
targetN=table(dataForAnalysis$survived)[2]
cohortN=sum(table(dataForAnalysis$survived))
populationPropotion=0.5
prop.test(x = targetN, n = cohortN, p = populationPropotion, correct = FALSE)

```




## two-sample influence on means (independant): show mean value of two groups and test if they are different

### Is there any age difference between suviviors and non-suviviors?

```{r}

t.test(dataForAnalysis$age[which(dataForAnalysis$survived==0)],dataForAnalysis$age[which(dataForAnalysis$survived==1)])

```



## two-sample influence on propotions (independant): show propotion of two groups and test if they are different

### Is there any gender propotion difference between suviviors and non-suviviors?

```{r}

nX1=length(which(dataForAnalysis$sex=="female" & dataForAnalysis$survived==0))
nY1=length(which(dataForAnalysis$sex=="female" & dataForAnalysis$survived==1))
nX=length(which(dataForAnalysis$survived==0))
nY=length(which(dataForAnalysis$survived==1))

nX1/nX
nY1/nY


```




```{r}
#two propotion Z test
prop.test(c(nX1,nX1),c(nX,nY), correct = FALSE)

```








